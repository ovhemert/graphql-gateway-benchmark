## Benchmarks

```sh
🚀 Benchmarking Apollo Federation Gateway - small query (with Apollo Backend)
┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 19 ms │ 30 ms │ 65 ms │ 92 ms │ 32.55 ms │ 13.04 ms │ 144 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬────────┬────────┬────────┬────────┬────────┬─────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%  │ Avg    │ Stdev   │ Min    │
├───────────┼────────┼────────┼────────┼────────┼────────┼─────────┼────────┤
│ Req/Sec   │ 203    │ 203    │ 306    │ 417    │ 302.2  │ 60.38   │ 203    │
├───────────┼────────┼────────┼────────┼────────┼────────┼─────────┼────────┤
│ Bytes/Sec │ 166 kB │ 166 kB │ 250 kB │ 341 kB │ 247 kB │ 49.4 kB │ 166 kB │
└───────────┴────────┴────────┴────────┴────────┴────────┴─────────┴────────┘

Req/Bytes counts sampled once per second.

3k requests in 10.02s, 2.47 MB read
```

```sh
🚀 Benchmarking Apollo Federation Gateway - large query (with Apollo Backend)
┌─────────┬───────┬────────┬────────┬────────┬───────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max    │
├─────────┼───────┼────────┼────────┼────────┼───────────┼──────────┼────────┤
│ Latency │ 77 ms │ 110 ms │ 155 ms │ 201 ms │ 113.34 ms │ 23.73 ms │ 248 ms │
└─────────┴───────┴────────┴────────┴────────┴───────────┴──────────┴────────┘
┌───────────┬────────┬────────┬────────┬─────────┬────────┬────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%   │ Avg    │ Stdev  │ Min    │
├───────────┼────────┼────────┼────────┼─────────┼────────┼────────┼────────┤
│ Req/Sec   │ 16     │ 16     │ 88     │ 109     │ 80     │ 25.1   │ 16     │
├───────────┼────────┼────────┼────────┼─────────┼────────┼────────┼────────┤
│ Bytes/Sec │ 168 kB │ 168 kB │ 926 kB │ 1.15 MB │ 842 kB │ 264 kB │ 168 kB │
└───────────┴────────┴────────┴────────┴─────────┴────────┴────────┴────────┘

Req/Bytes counts sampled once per second.

810 requests in 10.02s, 8.42 MB read
```

```sh
🚀 Benchmarking Apollo Federation Gateway - small query (with Go Backend)
┌─────────┬───────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 16 ms │ 24 ms │ 52 ms │ 63 ms │ 26.89 ms │ 10.12 ms │ 108 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬────────┬────────┬────────┬────────┬────────┬─────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%  │ Avg    │ Stdev   │ Min    │
├───────────┼────────┼────────┼────────┼────────┼────────┼─────────┼────────┤
│ Req/Sec   │ 238    │ 238    │ 373    │ 496    │ 364.7  │ 75.65   │ 238    │
├───────────┼────────┼────────┼────────┼────────┼────────┼─────────┼────────┤
│ Bytes/Sec │ 195 kB │ 195 kB │ 305 kB │ 406 kB │ 298 kB │ 61.9 kB │ 195 kB │
└───────────┴────────┴────────┴────────┴────────┴────────┴─────────┴────────┘

Req/Bytes counts sampled once per second.

4k requests in 10.02s, 2.98 MB read
```

```sh
🚀 Benchmarking Apollo Federation Gateway - large query (with Go Backend)
┌─────────┬───────┬───────┬───────┬────────┬──────────┬───────────┬─────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%    │ Avg      │ Stdev     │ Max     │
├─────────┼───────┼───────┼───────┼────────┼──────────┼───────────┼─────────┤
│ Latency │ 17 ms │ 25 ms │ 51 ms │ 417 ms │ 43.79 ms │ 188.72 ms │ 2737 ms │
└─────────┴───────┴───────┴───────┴────────┴──────────┴───────────┴─────────┘
┌───────────┬─────┬──────┬────────┬────────┬────────┬────────┬─────────┐
│ Stat      │ 1%  │ 2.5% │ 50%    │ 97.5%  │ Avg    │ Stdev  │ Min     │
├───────────┼─────┼──────┼────────┼────────┼────────┼────────┼─────────┤
│ Req/Sec   │ 0   │ 0    │ 240    │ 377    │ 220.4  │ 131.24 │ 39      │
├───────────┼─────┼──────┼────────┼────────┼────────┼────────┼─────────┤
│ Bytes/Sec │ 0 B │ 0 B  │ 211 kB │ 331 kB │ 194 kB │ 115 kB │ 34.2 kB │
└───────────┴─────┴──────┴────────┴────────┴────────┴────────┴─────────┘

Req/Bytes counts sampled once per second.

2k requests in 10.02s, 1.94 MB read
```

```sh
🚀 Benchmarking Mercurius Federation Gateway - small query (with Fastify Backend)
┌─────────┬──────┬──────┬───────┬───────┬─────────┬────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev  │ Max   │
├─────────┼──────┼──────┼───────┼───────┼─────────┼────────┼───────┤
│ Latency │ 4 ms │ 6 ms │ 17 ms │ 21 ms │ 7.34 ms │ 3.7 ms │ 66 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴────────┴───────┘
┌───────────┬────────┬────────┬────────┬─────────┬────────┬────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%    │ 97.5%   │ Avg    │ Stdev  │ Min    │
├───────────┼────────┼────────┼────────┼─────────┼────────┼────────┼────────┤
│ Req/Sec   │ 573    │ 573    │ 1299   │ 1660    │ 1275   │ 321.2  │ 573    │
├───────────┼────────┼────────┼────────┼─────────┼────────┼────────┼────────┤
│ Bytes/Sec │ 425 kB │ 425 kB │ 964 kB │ 1.23 MB │ 946 kB │ 238 kB │ 425 kB │
└───────────┴────────┴────────┴────────┴─────────┴────────┴────────┴────────┘

Req/Bytes counts sampled once per second.

13k requests in 10.01s, 9.46 MB read
```

```sh
🚀 Benchmarking Mercurius Federation Gateway - large query (with Fastify Backend)
┌─────────┬───────┬───────┬────────┬────────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5%  │ 99%    │ Avg      │ Stdev    │ Max    │
├─────────┼───────┼───────┼────────┼────────┼──────────┼──────────┼────────┤
│ Latency │ 49 ms │ 72 ms │ 225 ms │ 262 ms │ 81.89 ms │ 43.18 ms │ 401 ms │
└─────────┴───────┴───────┴────────┴────────┴──────────┴──────────┴────────┘
┌───────────┬────────┬────────┬─────────┬─────────┬─────────┬────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%     │ 97.5%   │ Avg     │ Stdev  │ Min    │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┼────────┤
│ Req/Sec   │ 88     │ 88     │ 123     │ 152     │ 121.2   │ 20.82  │ 88     │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┼────────┤
│ Bytes/Sec │ 920 kB │ 920 kB │ 1.29 MB │ 1.59 MB │ 1.27 MB │ 217 kB │ 919 kB │
└───────────┴────────┴────────┴─────────┴─────────┴─────────┴────────┴────────┘

Req/Bytes counts sampled once per second.

1k requests in 10.02s, 12.7 MB read
```

```sh
🚀 Benchmarking Mercurius Federation Gateway - small query (with Go Backend)
┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max   │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼───────┤
│ Latency │ 4 ms │ 6 ms │ 16 ms │ 20 ms │ 6.94 ms │ 3.49 ms │ 56 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴───────┘
┌───────────┬────────┬────────┬─────────┬─────────┬────────┬────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%     │ 97.5%   │ Avg    │ Stdev  │ Min    │
├───────────┼────────┼────────┼─────────┼─────────┼────────┼────────┼────────┤
│ Req/Sec   │ 679    │ 679    │ 1440    │ 1700    │ 1342.8 │ 288.58 │ 679    │
├───────────┼────────┼────────┼─────────┼─────────┼────────┼────────┼────────┤
│ Bytes/Sec │ 504 kB │ 504 kB │ 1.07 MB │ 1.26 MB │ 996 kB │ 214 kB │ 504 kB │
└───────────┴────────┴────────┴─────────┴─────────┴────────┴────────┴────────┘

Req/Bytes counts sampled once per second.

13k requests in 10.02s, 9.96 MB read
```

```sh
🚀 Benchmarking Mercurius Federation Gateway - large query (with Go Backend)
┌─────────┬───────┬───────┬────────┬────────┬───────┬─────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5%  │ 99%    │ Avg   │ Stdev   │ Max    │
├─────────┼───────┼───────┼────────┼────────┼───────┼─────────┼────────┤
│ Latency │ 48 ms │ 64 ms │ 143 ms │ 164 ms │ 71 ms │ 22.4 ms │ 183 ms │
└─────────┴───────┴───────┴────────┴────────┴───────┴─────────┴────────┘
┌───────────┬────────┬────────┬─────────┬─────────┬─────────┬────────┬────────┐
│ Stat      │ 1%     │ 2.5%   │ 50%     │ 97.5%   │ Avg     │ Stdev  │ Min    │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┼────────┤
│ Req/Sec   │ 80     │ 80     │ 148     │ 157     │ 139.6   │ 21.91  │ 80     │
├───────────┼────────┼────────┼─────────┼─────────┼─────────┼────────┼────────┤
│ Bytes/Sec │ 839 kB │ 839 kB │ 1.55 MB │ 1.65 MB │ 1.46 MB │ 229 kB │ 838 kB │
└───────────┴────────┴────────┴─────────┴─────────┴─────────┴────────┴────────┘

Req/Bytes counts sampled once per second.

1k requests in 10.02s, 14.6 MB read
```

## Results

| <br/>Gateway      | Small Query<br/>Latency (avg) | <br/>Req/sec (avg) | Large Query<br/>Latency (avg) | <br/>Req/sec (avg) |
| ----------- | -----------: | -----------: | -----------: | -----------: |
| Apollo (with Apollo backend)     | 32.55 ms |  302.2 | 113.34 ms | 80.0 |
| Apollo (with Go backend)         | 26.89 ms |  364.7 |  43.79 ms | 220.4 |
| Mercurius (with Fastify backend) |  7.34 ms | 1275.0 |  81.89 ms | 121.2 |
| Mercurius (with Go backend)      |  6.94 ms | 1342.8 |  71.00 ms | 139.6 |
